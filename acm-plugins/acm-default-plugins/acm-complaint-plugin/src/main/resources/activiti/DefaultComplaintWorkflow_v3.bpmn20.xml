<definitions targetNamespace="http://activiti.org/bpmn20"
             xmlns:activiti="http://activiti.org/bpmn"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL
                    http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd">

    <process id="cmComplaintWorkflow" name="Complaint review and approval process">

        <startEvent id="complaintSubmittedForApproval" />

        <sequenceFlow id="initiatedToApproval" sourceRef="complaintSubmittedForApproval" targetRef="approveComplaint" />

        <userTask id="approveComplaint" name="Approve Complaint ${complaintNumber}" activiti:assignee="${xyz}">
            <documentation>
                Approve the complaint; it will become part of a new case file.
            </documentation>
            <multiInstanceLoopCharacteristics
                    isSequential="false"
                    activiti:collection="approvers"
                    activiti:elementVariable="xyz"/>
        </userTask>

        <sequenceFlow id="approvalToEnd" sourceRef="approveComplaint" targetRef="done" />

        <endEvent id="done" />

    </process>

</definitions>
