<definitions targetNamespace="http://activiti.org/bpmn20"
             xmlns:activiti="http://activiti.org/bpmn"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL
                    http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd">

    <process id="TestActivitiSpringProcess" name="Testing Activiti Spring Module">

        <startEvent id="start" />

        <sequenceFlow id="approvals" sourceRef="start" targetRef="approvalTasks" />

        <userTask id="approvalTasks" name="Approve Task"/>

        <sequenceFlow id="callSpringBean" sourceRef="approvalTasks" targetRef="springBean" />

        <serviceTask id="springBean"
                     activiti:expression="#{acmActivitiTaskEventListener.logMessage('Hello from Business Process', key)}"/>

        <sequenceFlow id="toEnd" sourceRef="springBean" targetRef="done" />

        <endEvent id="done" />

    </process>

</definitions>
