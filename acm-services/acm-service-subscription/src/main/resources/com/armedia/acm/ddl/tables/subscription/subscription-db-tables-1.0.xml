<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
            http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

        <changeSet id="01-subscription-tables" author="marst">
            <createTable tableName="acm_subscription">
                <column name="cm_subscription_id" type="NUMBER(32,0)">
                    <constraints primaryKey="true" primaryKeyName="pk_cm_subscription_id"/>
                </column>
                <column name="cm_user_id" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_object_id" type="NUMBER(32,0)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_object_type" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_object_name" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_object_number" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_subscription_created" type="TIMESTAMP WITH TIME ZONE">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_subscription_modified" type="TIMESTAMP WITH TIME ZONE">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_subscription_creator" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_subscription_modifier" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
            </createTable>

            <createTable tableName="acm_subscription_event">
                <column name="cm_event_id" type="NUMBER(32,0)">
                    <constraints primaryKey="true" primaryKeyName="pk_cm_subscription_event"/>
                </column>
                <column name="cm_event_object_type" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_object_id" type="NUMBER(32,0)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_user" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_date" type="TIMESTAMP WITH TIME ZONE">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_subscription_owner" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_type" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_object_name" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_object_number" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_created" type="TIMESTAMP WITH TIME ZONE">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_modified" type="TIMESTAMP WITH TIME ZONE">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_creator" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
                <column name="cm_event_modifier" type="VARCHAR(1024)">
                    <constraints nullable="false"/>
                </column>
            </createTable>

            <createIndex tableName="acm_subscription" unique="true" indexName="idx_user_object_type">
                <column name="cm_user_id" type="VARCHAR(1024)"/>
                <column name="cm_object_id" type="NUMBER(32,0)"/>
                <column name="cm_object_type" type="VARCHAR(1024)"/>
            </createIndex>

        </changeSet>

</databaseChangeLog>
