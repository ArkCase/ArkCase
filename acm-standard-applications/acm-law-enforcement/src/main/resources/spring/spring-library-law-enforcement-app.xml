<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:task="http://www.springframework.org/schema/task"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
                http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd
                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd">

    <task:annotation-driven />

    <context:property-placeholder
            properties-ref="lawEnforcementAppProperties"
            ignore-unresolvable="true"
            local-override="false"
            order="18372"/>

    <bean id="lawEnforcementAppProperties"
          class="org.springframework.beans.factory.config.PropertiesFactoryBean" >
        <!-- note: must leave "file:" at the start of the file name for spring
        to be able to read the file; otherwise it will try to read from the
        classpath -->
        <property name="location" value="file:${user.home}/.acm/lawEnforcementApp.properties"/>
        <property name="ignoreResourceNotFound" value="true"/>
        <property name="localOverride" value="false"/>
        <property name="properties">
            <props>
                <prop key="create.complaint.button.text">Complaint</prop>
                <prop key="complaint.navigator.tab.text">Complaints</prop>
                <prop key="complaint.list.page.title">Complaints | ACM | Armedia Case Management</prop>
                <prop key="complaint.list.page.short.text">Complaints</prop>
                <prop key="complaint.list.page.long.text">Complaints</prop>
                <prop key="complaint.wizard.page.title">Complaint | ACM | Armedia Case Management</prop>
                <prop key="complaint.wizard.page.short.text">New Complaint</prop>
                <prop key="complaint.wizard.page.long.text">New Complaint</prop>
            </props>
        </property>
    </bean>

    <bean id="acmApplication" class="com.armedia.acm.core.AcmApplication">
        <property name="applicationName" value="Law Enforcement Application"/>
        <property name="topbarActions">
            <list>
                <ref bean="createComplaintAction"/>
                <ref bean="createTaskAction"/>
            </list>
        </property>
        <property name="navigatorTabs">
            <list>
                <ref bean="dashboardNavigatorAction"/>
                <ref bean="complaintNavigatorAction"/>
                <ref bean="taskNavigatorAction"/>
                <ref bean="searchNavigatorAction"/>
            </list>
        </property>
    </bean>

    <!-- Actions -->
    <bean id="createComplaintAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="${create.complaint.button.text}"/>
        <property name="iconName" value="i-notice"/>
        <property name="url" value="/plugin/complaint/wizard"/>
        <property name="requiredPrivilege" value="acm-complaint-create"/>
    </bean>
    <bean id="complaintNavigatorAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="${complaint.navigator.tab.text}"/>
        <property name="iconName" value="i-notice"/>
        <property name="url" value="/plugin/complaint"/>
        <property name="requiredPrivilege" value="acm-complaint-list"/>
    </bean>
    <bean id="createTaskAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="Task"/>
        <property name="iconName" value="i-checkmark"/>
        <property name="url" value="/plugin/task/wizard"/>
        <property name="requiredPrivilege" value="acm-complaint-create"/>
    </bean>
    <bean id="taskNavigatorAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="Tasks"/>
        <property name="iconName" value="i-checkmark"/>
        <property name="url" value="/plugin/task"/>
        <property name="requiredPrivilege" value="acm-complaint-list"/>
    </bean>
    <bean id="searchNavigatorAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="Search"/>
        <property name="iconName" value="i-search2"/>
        <property name="url" value="/plugin/search"/>
        <property name="requiredPrivilege" value="acm-search"/>
    </bean>

    <bean id="dashboardNavigatorAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="Dashboard"/>
        <property name="iconName" value="i-statistics"/>
        <property name="url" value="/plugin/dashboard"/>
        <property name="requiredPrivilege" value="acm-dashboard"/>
    </bean>
    <bean id="helloWorldNavigatorAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="Hello World"/>
        <property name="iconName" value="i-world"/>
        <property name="url" value="/plugin/sample/helloWorld"/>
        <property name="requiredPrivilege" value="acm-hello-world"/>
    </bean>
    <bean id="armediaBlogNavigatorAction" class="com.armedia.acm.core.AcmUserAction">
        <property name="actionName" value="Armedia Blog"/>
        <property name="iconName" value="i-pencil"/>
        <property name="url" value="/plugin/sample/armediaBlog"/>
        <property name="requiredPrivilege" value="acm-blog"/>
    </bean>
    <!-- end of actions -->

    <!-- Page Descriptors -->
    <bean id="dashboardPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="Dashboard | ACM | Armedia Case Management"/>
        <property name="descShort" value="Dashboard"/>
        <property name="descLong" value="Dashboard"/>
    </bean>
    <bean id="searchPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="Search | ACM | Armedia Case Management"/>
        <property name="descShort" value="Search"/>
        <property name="descLong" value="Search"/>
    </bean>


    <bean id="complaintListPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="${complaint.list.page.title}"/>
        <property name="descShort" value="${complaint.list.page.short.text}"/>
        <property name="descLong" value="${complaint.list.page.long.text}"/>
    </bean>
    <bean id="complaintWizardPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="${complaint.wizard.page.title}"/>
        <property name="descShort" value="${complaint.wizard.page.short.text}"/>
        <property name="descLong" value="${complaint.wizard.page.long.text}"/>
    </bean>

    <bean id="taskListPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="Tasks | ACM | Armedia Case Management"/>
        <property name="descShort" value="Tasks"/>
        <property name="descLong" value="Tasks"/>
    </bean>
    <bean id="taskWizardPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="Task | ACM | Armedia Case Management"/>
        <property name="descShort" value="New Task"/>
        <property name="descLong" value="New Task"/>
    </bean>

    <bean id="armediaBlogPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="Armedia Blog | ACM | Armedia Case Management"/>
        <property name="descShort" value="Aremedia Blog"/>
        <property name="descLong" value="Aremedia Blog"/>
    </bean>
    <bean id="helloWorldPageDescriptor" class="com.armedia.acm.web.AcmPageDescriptor">
        <property name="title" value="Hello World | ACM | Armedia Case Management"/>
        <property name="descShort" value="Hello World"/>
        <property name="descLong" value="Hello World"/>
    </bean>
    <!-- end of Descriptors -->


    <!-- quick search configurations -->
    <bean id="complaintClass" class="java.lang.Class" factory-method="forName">
        <constructor-arg index="0" value="com.armedia.acm.plugins.complaint.model.Complaint"/>
    </bean>

    <bean id="complaintQuicksearchGenerator"
          class="com.armedia.acm.services.search.service.AcmQuickSearchJpaSolrGenerator"
          init-method="initBean">
        <property name="lastUpdatedPropertyFileLocation" value="${user.home}/.acm/complaintSolrLastMod.properties"/>
        <property name="entityClass" ref="complaintClass"/>
        <property name="objectType" value="Complaint"/>
        <property name="batchSize" value="50"/>
        <property name="idProperty" value="complaintId"/>
        <property name="ownerProperty" value="author"/>
        <property name="lastModifiedProperty" value="modified"/>
        <property name="quickSearchFieldToEntityPropertyMap">
            <map>
                <entry key="title_t" value="complaintTitle"/>
                <entry key="object_id_s" value="complaintId"/>
                <entry key="last_modified" value="modified"/>
                <entry key="create_dt" value="created"/>
                <entry key="name" value="complaintNumber"/>
                <entry key="status_s" value="status"/>
                <entry key="author" value="creator"/>
                <entry key="modifier_s" value="modifier"/>
            </map>
        </property>
        <property name="muleClient" ref="muleClient"/>
        <property name="propertyFileManager">
            <bean class="com.armedia.acm.files.propertymanager.PropertyFileManager"/>
        </property>
    </bean>
</beans>