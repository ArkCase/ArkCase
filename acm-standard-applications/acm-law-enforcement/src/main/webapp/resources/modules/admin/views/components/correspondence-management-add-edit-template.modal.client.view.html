<div class="modal-header">
    <h3>
        <span translate>admin.correspondenceManagement.templates.addTemplate</span>
    </h3>

</div>
<div class="modal-body">
    <form name="templateForm">
        <div class="well-sm">
            <div class="row">
                <div class="btn-group">
                    <button ngf-select ngf-change="upload($files)" class="btn btn-xs btn-link" ngf-multiple="false" accept=".docx">
                        <i class="glyphicon glyphicon-plus-sign"></i>
                        <span translate>admin.correspondenceManagement.templates.addNewTemplate</span>
                    </button>
                </div>
                <div>
                    <ul>
                        <li ng-if="selectedFiles.length == 0">
                            <span>{{ 'admin.correspondenceManagement.templates.modal.objectTypes.selectedFiles' | translate}}</span>
                        </li>
                        <li ng-repeat="file in selectedFiles">{{file.name}}</li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <label class="control-label">{{ 'admin.correspondenceManagement.templates.modal.objectTypes.label' |
                    translate}}
                    <span class="required-asterisk">*</span>
                    <select ng-model="selectedName" ng-required="true"
                            ng-value="currentSelectedObjectType.value"
                            ng-options="objectType.value | translate for objectType in correspondenceObjectTypes"
                            ng-change="change(selectedName)"
                            ng-disabled="isEdit" class="form-control input-md" required>
                    </select>
                </label>
            </div>
            <div class="row">
                <label class="control-label">{{ 'admin.correspondenceManagement.templates.modal.templateModelProvider.label' |
                    translate}}
                    <span class="required-asterisk">*</span>
                    <select ng-model="templateModelProvider" ng-required="true"
                            ng-options="key as value for (key, value) in templateModelProviders.data"
                            ng-change="changeTemplateModelProvider(templateModelProvider)"
                            ng-disabled="isEdit" class="form-control input-md" required>
                    </select>
                </label>
                <i class="fa fa-info-circle cursor-pointer" ng-click="getNavBarTree(row.entity.templateModelProvider)"></i>
            </div>
            <div class="row">
                <label for="label"><span translate>admin.correspondenceManagement.templates.modal.label.label</span>
                    <span class="required-asterisk">*</span></label>
                <input id="label" class="form-control" type="text" ng-model="template.label" required ng-disabled="isEdit">
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-secondary" ng-click="onClickCancel()">
        <span translate>admin.correspondenceManagement.templates.modal.btnCancel.text</span>
    </button>
    <button class="btn btn-primary" ng-click="onClickOk(selectedFiles)" ng-disabled="templateForm.$invalid || selectedFiles.length == 0">
        <span translate>admin.correspondenceManagement.templates.modal.btnOk.text</span>
    </button>
</div>